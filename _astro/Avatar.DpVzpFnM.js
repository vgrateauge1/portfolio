import{j as l,S as k,c as g}from"./index.nHc_7cUm.js";import{r}from"./index.ai7qpRr1.js";import{r as F}from"./index.BMjRLAIj.js";function T(e,t=[]){let a=[];function n(o,s){const c=r.createContext(s),i=a.length;a=[...a,s];const d=f=>{const{scope:p,children:v,...m}=f,M=p?.[e]?.[i]||c,$=r.useMemo(()=>m,Object.values(m));return l.jsx(M.Provider,{value:$,children:v})};d.displayName=o+"Provider";function A(f,p){const v=p?.[e]?.[i]||c,m=r.useContext(v);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[d,A]}const u=()=>{const o=a.map(s=>r.createContext(s));return function(c){const i=c?.[e]||o;return r.useMemo(()=>({[`__scope${e}`]:{...c,[e]:i}}),[c,i])}};return u.scopeName=e,[n,B(u,...t)]}function B(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const n=e.map(u=>({useScope:u(),scopeName:u.scopeName}));return function(o){const s=n.reduce((c,{useScope:i,scopeName:d})=>{const f=i(o)[`__scope${d}`];return{...c,...f}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return a.scopeName=t.scopeName,a}function q(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...a)=>t.current?.(...a),[])}var w=globalThis?.document?r.useLayoutEffect:()=>{};F();var D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],x=D.reduce((e,t)=>{const a=r.forwardRef((n,u)=>{const{asChild:o,...s}=n,c=o?k:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...s,ref:u})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),S="Avatar",[O,J]=T(S),[G,h]=O(S),C=r.forwardRef((e,t)=>{const{__scopeAvatar:a,...n}=e,[u,o]=r.useState("idle");return l.jsx(G,{scope:a,imageLoadingStatus:u,onImageLoadingStatusChange:o,children:l.jsx(x.span,{...n,ref:t})})});C.displayName=S;var N="AvatarImage",y=r.forwardRef((e,t)=>{const{__scopeAvatar:a,src:n,onLoadingStatusChange:u=()=>{},...o}=e,s=h(N,a),c=H(n,o.referrerPolicy),i=q(d=>{u(d),s.onImageLoadingStatusChange(d)});return w(()=>{c!=="idle"&&i(c)},[c,i]),c==="loaded"?l.jsx(x.img,{...o,ref:t,src:n}):null});y.displayName=N;var j="AvatarFallback",R=r.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:n,...u}=e,o=h(j,a),[s,c]=r.useState(n===void 0);return r.useEffect(()=>{if(n!==void 0){const i=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(i)}},[n]),s&&o.imageLoadingStatus!=="loaded"?l.jsx(x.span,{...u,ref:t}):null});R.displayName=j;function H(e,t){const[a,n]=r.useState("idle");return w(()=>{if(!e){n("error");return}let u=!0;const o=new window.Image,s=c=>()=>{u&&n(c)};return n("loading"),o.onload=s("loaded"),o.onerror=s("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{u=!1}},[e,t]),a}var _=C,b=y,L=R;const E=r.forwardRef(({className:e,...t},a)=>l.jsx(_,{ref:a,className:g("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));E.displayName=_.displayName;const P=r.forwardRef(({className:e,...t},a)=>l.jsx(b,{ref:a,className:g("aspect-square h-full w-full",e),...t}));P.displayName=b.displayName;const I=r.forwardRef(({className:e,...t},a)=>l.jsx(L,{ref:a,className:g("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));I.displayName=L.displayName;const Q=({src:e,alt:t})=>l.jsxs(E,{className:"w-28 h-28",children:[l.jsx(P,{src:e,alt:t}),l.jsx(I,{children:"A"})]});export{Q as default};
